<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Compiled and minified CSS-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    
    <!-- Font Awesome-->    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">    
    
    <!--CSS Stylesheet-->
    <link rel="stylesheet" href="/static/css/chat.css" />

    <!--Chat CSS-->
    <link rel="stylesheet" href="/static/css/chatstyle.css">
    
    <!--jQuery library-->
    <script src="/static/js/jquery.min.js"></script>
    
    <!--Popper JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

    <!-- Compiled JavaScript-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  <title>Collab</title>
</head>
<body>
    <div class="container-fluid chatBox">
        <!-- VERIFIED ALERT BOX -->
        <div class="alert alert-dismissible fade hide email-verifier">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            <p>
                Please verify your email in order to use all features of <strong style="color: #595775;">Collab</strong>.
            </p>  
            <div class="container-fluid">
                <div class="row">
                    <div class="col-8">
                        <span class="verify-err hide">Invalid code</span>
                        <input class="form-control verify-input hide" type="number" placeholder="Enter 5 digit number here">                 
                    </div>
                    <div class="col ml-1">
                        <button class="btn send-btn"><i class="fa fa-spinner fa-spin sending hide"></i> <span class="send-txt"> Send OTP </span></button>
                        <button class="btn verify-btn hide"><i class="fa fa-spinner fa-spin verifying hide"></i> <span class="verify-txt"> Verify </span></button>                    
                        <p class="verified-msg hide">Verified Successfully.</p>
                    </div>
                </div>                 
            </div>
        </div>
        <div class="row">
            <!--LEFT PANEL-->
            <div class="col-sm-4 col-md-5 col-lg-4 p-0 d-none d-md-block leftPanel" id="left-panel">
                <div class="card">
                    <div class="card-header left_header" style="background-color: #aba6bf;">
                        <div class="row">
                            <div class="col-1 col-sm-1 col-md-1 col-lg-1">
                                <i class="fa fa-angle-left icons mt-3 d-md-none" style="cursor: pointer;" onclick="hideChatList()"></i>
                            </div>
                            <div class="col-2 col-sm-2 col-md-2 col-lg-2">
                                <img src="/static/media/images/maleuser.png" class="header-pic"/> 
                            </div>
                            <div class="col-7 col-sm-7 col-md-7 col-lg-7 mt-3">
                                <i class="fa fa-circle online"></i> <strong class="active-user"></strong>
                            </div>
                            <div class="col-1 col-sm-1 col-md-1 col-lg-1">
                                <div class="dropleft">
                                    <span class="dropdown-toggle" data-toggle="dropdown" style="float: right;">
                                        <i class="fa fa-bars icons mt-3" style="cursor: pointer;" onclick=""></i>
                                    </span>
                                    <div class="dropdown-menu">
                                        <a href="#" class="dropdown-item" id="linkProfile" data-toggle="modal" data-target="#myProfile" onclick="">My Profile</a>
                                        <a href="" id="linkSignOut" class="dropdown-item">Sign Out</a>
                                    </div>
                                    <!--My Profile Modal-->
                                    <div class="modal fade" id="myProfile">
                                        <div class="modal-dialog modal-dialog-scrollable">
                                            <div class="modal-content">
                                                <div class="modal-header" style="background-color: #aba6bf;">
                                                    <h5 class="modal-title" id="exampleModalLabel">My Profile</h5>
                                                    <span class="close" data-dismiss="modal" style="cursor: pointer;">&times;</span>
                                                </div>
                                                
                                                <div class="modal-body">
                                                    <form action="/api/profile/" id='profile-form' method="post">
                                                    <a class="proEdit" style="float: right; cursor: pointer;">
                                                        <i class="fa fa-edit icon" onclick="edit_profile()"></i>
                                                    </a>                                                                                                          
                                                    <div class="container">
                                                        
                                                        <div class="row">
                                                          <div class="col-12 col-sm-12 col-md-12 col-lg-12">
                                                                <div class="container d-flex flex-column align-items-center">
                                                                        <div class="row">
                                                                        <div class="profile-nav col-12 col-sm-12 col-md-12 col-lg-12 headd">
                                                                            <div class="user-heading round">                                                                    
                                                                                <img src="/static/media/images/maleuser.png"><br>                                                                              
                                                                                <!-- <input type="file" name="file" id="proimage" class="form-control-file border proimg" style="display: none;"> -->
                                                                            </div>
                                                                                <div class="user-heading">
                                                                                <textarea id="proname" class="profileName text-center" rows="1" cols="30" disabled></textarea>
                                                                                <h6 class="profileUsername"></h6>
                                                                                <textarea id="prodesig" class="profileDesig text-center" rows="1" cols="30" disabled></textarea>
                                                                                    
                                                                                </div>                                                                   
                                                                        </div><!--end profile-nav-->
                                                                        </div><!--end row-->
                                                                        <div class="h-divider"></div>
                                                                        <div>
                                                                            <textarea id="probio" class="profileBio" rows="3" cols="40" disabled>
                                                                            </textarea>
                                                                        </div>
                                                                        
                                                                        <div>
                                                                           <i class="fa fa-envelope mr-3"></i>
                                                                           <i class="link-mail profileEmail"></i>
                                                                        </div> <br>
                                                                        
                                                                        <!-- <div>
                                                                           <i class="fa fa-globe mr-3"></i>
                                                                           08:30 PM(IST)   10:00 AM(EST)
                                                                        </div> -->
                                                                        <div>         
                                                                            <i class="fa fa-calendar mr-3 profileJoinDate"> </i>                                                                            
                                                                        </div>
                                                                </div><!--end d-flex-->
                                                            </div>
                                                        </div><!--end row-->                                                        
                                                    </div><!--end of container-->
                                                    <button id="prosave" class="btn" style="float: right; background-color: #aba6bf; color: #272424; display: none;" type="submit">Save</button>
                                                </form>
                                                </div><!--closing of modal body-->
                                                <div class="modal-footer" style="background-color: #aba6bf;">
                                                </div><!--footer-->
                                            </div> <!--closing of modal content-->
                                        </div> <!--closing of modal dialog-->
                                    </div> <!--closing of modal-->
                                </div> <!--closing of class dropleft-->
                            </div>
                        </div><!--closing of row-->
                    </div> <!--closing of card header-->

                    <!--SEARCH BAR-->
                    <!-- <div class="list-group">
                        <li class="list-group-item" style="background-color: #f8f8f8;">
                            <input type="text" placeholder="Search" class="form-control round-box">
                        </li>
                    </div> -->

                    <!--CREATE ROOM-->
                    <div class="list-group list-group-flush">
                        <li class="list-group-item" style="background-color: #aba6bf">
                            <button id="roomButton" class="btn create-room-btn" data-toggle="modal" data-target="#createRoom" onclick="">Create Workspace</button>
                            <!-- <form id="test-form" enctype="multipart/form-data" method="post">
                                <input name="file" type="file">
                                <input type="submit">
                            </form> -->
                        </li>
                        <!--Create Room Modal-->
                        <div class="modal fade" id="createRoom">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header" style="background-color: #aba6bf;">
                                        <h6 class="modal-title" id="exampleModalLabel">Create Workspace</h6>
                                        <span class="close" data-dismiss="modal" style="cursor: pointer;">&times;</span>
                                    </div> <!--closing of modal header-->

                                    <div class="modal-body">
                                        <form id="room-form" class="createRoomForm text-center">
                                            <div class="form-group">
                                                <label for="formRoomName">Give your workspace a name</label>
                                                <input type="text" class="form-control inputStyle" id="roomName" placeholder="Write name here">
                                                </div>
                                                <div class="form-group">
                                                <label for="formRoomDesc">Write some description</label>
                                                <input type="text" class="form-control inputStyle" id="roomDesc" placeholder="Write description here">
                                                </div>
                                                <div class="form-group">
                                                <label for="formMembers">Add members to your workspace</label>                                                    
                                                    <ul id="user-list" class="list-group">                                                                
                                                    </ul>
                                                </div>
                                                <div class="form-group">
                                                <button type="submit" class="btn formButton">Create</button>
                                                </div>
                                        </form>
                                    </div> <!--closing of modal body-->   
                                    <div class="modal-footer" style="background-color: #aba6bf;">
                                    </div> <!-- closing of modal footer-->                                
                                </div> <!--closing of modal content-->
                            </div> <!--closing of modal dialog-->
                        </div> <!--closing of modal-->
                    </div> <!--closing create room-->

                    <!--TAB HEADER-->
                    <div class="list-group list-group-flush">
                        <li class="list-group-item tab-header-bg"> <!--style="background-color: #aba6bf-->
                            <div class="tab-header">
                                <ul class="nav nav-tabs nav-justified tab-head-bg" role="tablist">
                                    <li class="nav-item">
                                    <a id="tab-direct-message" class="nav-link active" data-toggle="tab" href="#directMsg">
                                        <i class="fa fa-user"></i>
                                            Direct
                                    </a>
                                    </li>
                                    <li class="nav-item">
                                    <a id="tab-room-message" class="nav-link" data-toggle="tab" href="#roomMsg">
                                        <i class="fa fa-users"></i>  
                                            Workspaces
                                    </a>
                                    </li>
                                </ul>
                            </div><!--closing of tab header-->
                        </li>
                    </div>
                    <div class="card-body scroll-div">
                    <!--TABS-->
                    <div class="container"> 
                        <!-- <div class="tab-header">
                            <ul class="nav nav-tabs nav-justified tab-head-bg" role="tablist">
                                <li class="nav-item">
                                <a id="tab-direct-message" class="nav-link active" data-toggle="tab" href="#directMsg">
                                    <i class="fa fa-user"></i>
                                        Direct
                                </a>
                                </li>
                                <li class="nav-item">
                                <a id="tab-room-message" class="nav-link" data-toggle="tab" href="#roomMsg">
                                    <i class="fa fa-users"></i>  
                                        Workspaces
                                </a>
                                </li>
                            </ul>
                        </div> closing of tab header -->

                    <!--TAB CONTENTS-->
                    <div class="tab-content tab-user-list">
                            <!--DIRECT MESSAGES-->
                            <div id="directMsg" class="container tab-pane active"><br>
                                <ul class="list-group list-group-flush" id="direct-msg-list">
                                </ul>
                            </div> <!--div of Direct Message-->

                            <!--ROOM MESSAGES-->
                            <div id="roomMsg" class="container tab-pane fade"><br>
                                <ul class="list-group list-group-flush" id="room-msg-list">                                    
                                </ul>
                            </div> <!--div of Room Message-->
                    </div> <!--closing of tabs content-->
                </div> <!--closing of tabs container-->
            </div> <!--closing of card body-->
            <div class="card-footer" style="background-color: #aba6bf;">
            </div>


                    
                </div> <!--closing of left card-->
            </div> <!--closing of md4 left panel-->

            <!--RIGHT PANEL-->
            <div class="col-sm-8 col-md-7 col-lg-8 p-0 rightPanel" id="right-panel">
                <div id="chatPanel" class="card" style="display: none;">
                    <div class="card-header" style="background-color: #aba6bf;">
                        <div class="row">
                            <div class="col-1 col-sm-1 col-md-1 col-lg-1">
                                <i class="fa fa-angle-left mt-3 icons d-md-none" style="cursor: pointer;" onclick="showChatList()"></i>
                            </div>
                            <div class="col-2 col-sm-2 col-md-2 col-lg-1">                      
                                <img src="" class="panel-pic"/>
                            </div>
                            <!--<div class="col-6 col-sm-7 col-md-7 col-lg-9">
                                <div class="name"></div>
                                <div class="under-name"><i class="fa fa-circle offline state"></i> </div>-->
                            <div class="col-4 col-sm-4 col-md-4 col-lg-6">                                
                                <div class="name"><span class="hide username-holder"></span><span class="user-fullname"></span></div>
                                <div class="under-name"><i class="fa fa-circle state"></i> &nbsp; <span></span> </div>
                            </div>
                            <div class="col-3 col-sm-3 col-md-3 col-lg-3">
                            <!--CODE OF GSHEET-->
                            <div class="container-fluid">
                                <div class="gsheet row">
                                    <div class="col-6 col-sm-6 col-md-6 col-lg-6">
                                        <div class="gsheet-add">
                                            <!-- <i class="fa fa-plus add-sheet" data-toggle="modal" data-target="#addSheet"> </i> -->
                                            <img src="/static/media/images/add-gsheet.png" data-toggle="modal" data-target="#addSheet" class="gsheet-tooltip" data-toggle="tooltip" data-placement="bottom" title="Create Google Sheet"/>
                                        </div>
                                        <div class="modal fade" id="addSheet">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header" style="background-color: #aba6bf;">
                                                        <h6 class="modal-title">Create Google Sheet</h6>
                                                        <span class="close" data-dismiss="modal" style="cursor: pointer;">&times;</span>
                                                    </div> <!--closing of modal header-->

                                                    <div class="modal-body">
                                                        <form id="sheet-form" class="text-center">
                                                            <div class="form-group">
                                                                <label for="formSheetName">Give your sheet a name</label>
                                                                <input type="text" class="form-control inputStyle" id="sheetName" placeholder="Write name here">                                                                                                                                                                                                                                                                                               
                                                                <label for="formSheetMembers">Add sheet members</label>                                                    
                                                                <ul id="sheet-member-list" class="list-group text-left">                                                                
                                                                </ul> 
                                                            </div>                                                                      
                                                            <button type="submit" class="btn formButton"><i class="fa fa-spinner fa-spin sheet-creating hide"></i> &nbsp; Create</button>      
                                                        </form>
                                                        <!-- <a href="#" class="sheet-url hide">Sheet Url</a> -->                                                                
                                                    </div> <!--closing of modal body-->
                                                    <div class="modal-footer" style="background-color: #aba6bf;">
                                                    </div> <!-- closing of modal footer-->                        
                                                </div> <!--closing of modal content-->
                                            </div> <!--closing of modal dialog-->
                                        </div> <!--closing of modal-->
                                    </div>
                                    <div class="col-6 col-sm-6 col-md-6 col-lg-6">
                                        <!-- <button type="button" class="btn btn-danger dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            Action
                                        </button> -->
                                        <!-- <span class="dropdown-toggle" data-toggle="dropdown">                                                    
                                        </span>-->
                                        <img src="/static/media/images/gsheet.png" class="gsheets gsheet-tooltip" data-toggle="dropdown" data-toggle="tooltip" data-placement="bottom" title="View Google Sheets"/>
                                        <div class="dropdown-menu dropdown-menu-right gsheets-menu"></div>
                                    </div>
                                </div> <!--gsheet row-->                 
                            </div> <!--gsheet container-->
                            </div> <!--col of gsheet-->

                            <div class="col-1 col-sm-1 col-md-1 col-lg-1 icons">
                                <div class="dropleft">
                                    <!-- <i class="fa fa-search" style="cursor: pointer;"></i>-->
                                    <!-- <i class="fa fa-paperclip ml-4" style="cursor: pointer;"></i> -->
                                    <!-- GSHEET CODE -->
                                                                                              
                                    <span class="dropdown-toggle" data-toggle="dropdown">
                                        <i class="fa fa-ellipsis-v ml-4" style="cursor: pointer;"></i>
                                    </span>
                                    <div class="dropdown-menu">
                                        <a href="" class="dropdown-item" id="linkUserProfile" data-toggle="modal" data-target="#userProfile">User Profile</a>
                                        <!-- <a href="" id="clearChat" onclick="clearChat()" class="dropdown-item">Clear Chat</a> -->
                                    </div>
                                    <!-- User Profile Modal-->
                                    <div class="modal fade" id="userProfile">
                                        <div class="modal-dialog modal-dialog-scrollable">
                                            <div class="modal-content">
                                                <div class="modal-header" style="background-color: #aba6bf;">
                                                    <h5 class="modal-title" id="exampleModalLabel" style="color: #272424;">User Profile</h5>
                                                    <span class="close" data-dismiss="modal" style="cursor: pointer;">&times;</span>
                                                </div>
                                                
                                                <div class="modal-body">
                                                    <form id='profile-form'>
                                                    <!-- <a class="proEdit" style="float: right; cursor: pointer;">
                                                        <i class="fa fa-edit icon" onclick="test()"></i>
                                                    </a>                                                                                                           -->
                                                    <div class="container">
                                                        
                                                        <div class="row">
                                                          <div class="col-12 col-sm-12 col-md-12 col-lg-12">
                                                                <div class="container d-flex flex-column align-items-center">
                                                                        <div class="row">
                                                                        <div class="profile-nav col-12 col-sm-12 col-md-12 col-lg-12 headd">
                                                                            <div class="user-heading round">                                                                    
                                                                                <img src="/static/media/images/maleuser.png"><br>                                                                                                                                                                                                                         
                                                                            </div>
                                                                                <div class="user-heading">
                                                                                <textarea id="proname" class="profileName text-center" rows="1" cols="30" disabled></textarea>                                                                                
                                                                                <h6 class="profileUsername"></h6>
                                                                                <textarea id="prodesig" class="profileDesig text-center" rows="1" cols="30" disabled></textarea>
                                                                                    
                                                                                </div>                                                                   
                                                                        </div><!--end profile-nav-->
                                                                        </div><!--end row-->
                                                                        <div class="h-divider"></div>
                                                                        <div>
                                                                            <textarea id="probio" class="profileBio" style="text-align: center;" rows="3" cols="40" disabled>
                                                                            </textarea>
                                                                        </div>
                                                                        
                                                                        <div>
                                                                           <i class="fa fa-envelope mr-3" style="color: black;"></i>
                                                                           <i class="link-mail profileEmail" style="font-size: medium;"></i>
                                                                        </div> <br>
                                                                        <!-- <div style="color: black;">
                                                                           <i class="fa fa-globe mr-3"></i>
                                                                           08:30 PM(IST)   10:00 AM(EST)
                                                                        </div> -->
                                                                        <div style="color: black; font-size: medium;">         
                                                                            <i class="fa fa-calendar mr-3 profileJoinDate"> </i>
                                                                        </div>
                                                                </div><!--end d-flex-->
                                                            </div>
                                                        </div><!--end row-->                                                        
                                                    </div><!--end of container-->
                                                    <!-- <button id="prosave" class="btn" style="float: right; background-color: #aba6bf; color: #272424; display: none;" type="submit" onclick="save()">Save</button> -->
                                                </form>
                                                </div><!--closing of modal body-->
                                                <div class="modal-footer" style="background-color: #aba6bf;">
                                                    
                                                </div><!--closing of modal footer-->
                                            </div> <!--closing of modal content-->
                                        </div> <!--closing of modal dialog-->
                                    </div> <!--closing of modal-->
                                    
                                </div> <!--dropleft close-->
                            </div> <!--col close-->
                        </div> <!--row close-->
                    </div><!--closing of card header-->

                    <!--CHAT BODY SPEECH BUBBLES-->
                    <div class="card-body chatBody" id="messages">
                    </div>

                    <!--FOOTER-->                                      
                    <div class="card-footer" style="background-color: #aba6bf;">
                        <form id="msg-form">
                            <div class="row">                            
                                <div class="col-md-1 col-2 file-upload">
                                    <i id="upload" class="fa fa-plus icons mt-2 ml-4"></i>                                    
                                </div>
                                <div class="col-md-10 col-8">
                                    <span id="selected-file"></span>
                                    <span id="err-msg"></span> 
                                    <input type="file" class="hide" id="file"/>
                                    <input type="text" id="text-message" placeholder="Message here" class="form-control round-box"/>
                                </div>
                                <div class="col-md-1 col-2 mt-1">
                                    <button id="submit" type="submit"><i class="fa fa-paper-plane icons mt-1 mr-5"></i> </button>
                                </div>                                
                            </div>
                        </form>
                    </div> <!--footer close-->
                </div> <!--chatPanel close-->

                <!--WELCOME SCREEN-->
                <div class="container">
                    <div id="divStart" class="text-center">
                        <img src="/static/media/images/collab-grayed.png" class="welcome-logo" style="height: 130px; width: 200px;">
                        <!-- <i class="fa fa-comments mt-5" style="font-size: 250px;"></i> -->
                        <div class="welcome-text">
                            <h3 class="">Welcome to <strong>COLLAB</strong></h3>
                            <h4 class="mt-5">Start sharing your ideas!</h4>
                        </div>
                        <!-- <a href="#" class="d-md-none" onclick="showChatList()">Select Chat</a> -->
                        <button class="btn btn-primary d-md-none" onclick="showChatList()">Select Chat></button>
                    </div>
                </div>

            </div> <!--closing of md8-->

        </div> <!--closing of main row-->
    </div> <!--closing of chatbox-->
    <script type="text/javascript" src="/static/js/chatscript.js"></script>   
    <script type="text/javascript" src="/static/js/chat.js"></script> 
</body>
</html>